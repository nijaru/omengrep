{"id":"hgrep-04d","title":"Shell completions (bash, zsh, fish)","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-02T05:51:40.714695-08:00","updated_at":"2025-12-02T06:33:14.540153-08:00","closed_at":"2025-12-02T06:33:14.540153-08:00","close_reason":"Implemented --completions flag for bash/zsh/fish"}
{"id":"hgrep-069","title":"Route errors to stderr","description":"**Problem:** Errors print to stdout, breaking JSON mode when errors mix with output.\n\n**Solution:** Use Python sys.stderr for error messages.\n\n**Locations:**\n- cli.mojo: Error messages\n- walker.mojo: 'Error accessing' message\n- reranker.mojo: 'Failed to initialize' message\n\n**Pattern:**\n```mojo\nvar sys = Python.import_module(\"sys\")\n_ = sys.stderr.write(\"Error: ...\\n\")\n```","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-01T18:35:52.912036-08:00","updated_at":"2025-12-01T18:41:01.377036-08:00","closed_at":"2025-12-01T18:41:01.377036-08:00","close_reason":"Fixed: error messages now use print(..., file=stderr)"}
{"id":"hgrep-0gz","title":"Hidden files flag (--hidden)","description":"","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-02T05:52:00.961437-08:00","updated_at":"2025-12-02T06:38:04.992423-08:00","closed_at":"2025-12-02T06:38:04.992423-08:00","close_reason":"Implemented --hidden flag in scanner and CLI"}
{"id":"hgrep-0up","title":"Feature: --fast mode (skip reranking)","description":"Add --fast flag to skip neural reranking for instant results.\n\nUse cases:\n- Quick grep when semantic not needed\n- Large codebases where latency matters\n- Debugging/testing\n\nImplementation:\n1. Add --fast CLI flag\n2. Skip reranker import and model load\n3. Return scanner results directly (sorted by match count)\n4. Still apply tree-sitter extraction for context","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T05:33:10.121831-08:00","updated_at":"2025-12-02T05:36:32.189314-08:00","closed_at":"2025-12-02T05:36:32.189314-08:00","close_reason":"Implemented --fast mode (10x faster, skips neural reranking)"}
{"id":"hgrep-18s","title":"Add --help flag","description":"**Problem:** No --help flag. Users must guess usage.\n\n**Solution:** Add --help/-h flag with usage info.\n\n```mojo\nif \"--help\" in args or \"-h\" in args:\n    print(\"Usage: hygrep \u003cquery\u003e [path] [--json]\")\n    print(\"\")\n    print(\"Options:\")\n    print(\"  --json    Output structured JSON for agents\")\n    print(\"  --help    Show this help message\")\n    return\n```\n\n**Location:** cli.mojo (arg parsing section)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T18:23:11.753228-08:00","updated_at":"2025-12-01T18:27:22.256978-08:00","closed_at":"2025-12-01T18:27:22.256978-08:00","close_reason":"Fixed: added --help/-h flag with usage info"}
{"id":"hgrep-1dg","title":"Config file support (~/.config/hygrep/config.toml)","description":"","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-02T05:51:47.992005-08:00","updated_at":"2025-12-02T06:39:12.218612-08:00","closed_at":"2025-12-02T06:39:12.218612-08:00","close_reason":"Implemented config file at ~/.config/hygrep/config.toml"}
{"id":"hgrep-1u0","title":"Add multi-language extraction tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T21:40:01.542702-08:00","updated_at":"2025-12-02T23:20:58.810924-08:00","closed_at":"2025-12-02T23:20:58.810924-08:00","close_reason":"Covered by golden dataset tests (TypeScript, Go, Rust extraction tested)"}
{"id":"hgrep-3r9","title":"Exclude patterns (--exclude, --glob)","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-02T05:51:54.000456-08:00","updated_at":"2025-12-02T06:32:17.58761-08:00","closed_at":"2025-12-02T06:32:17.58761-08:00","close_reason":"Implemented --exclude pattern filtering"}
{"id":"hgrep-43j","title":"v2: Auto-update stale index","description":"","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-04T04:44:52.75807-08:00","updated_at":"2025-12-04T04:44:52.75807-08:00","dependencies":[{"issue_id":"hgrep-43j","depends_on_id":"hgrep-mb9","type":"blocks","created_at":"2025-12-04T04:45:30.153652-08:00","created_by":"nick"}]}
{"id":"hgrep-4n4","title":"Distribution: PyPI wheels + CI/CD","description":"**Goal:** Make hygrep installable without cloning repo.\n\n**Status:** Distribution architecture implemented (Mojo Python extension).\n\n**New Strategy (implemented):**\n- Mojo scanner compiled as Python extension (`_scanner.so`)\n- Python CLI entry point for `pip install hygrep`\n- pyproject.toml configured for hatchling wheel packaging\n\n**Remaining Tasks:**\n1. Create GitHub Actions workflow for wheel building\n   - Build wheels for macOS-arm64, linux-x64\n   - Mojo SDK in CI runner\n2. Publish to PyPI as `hygrep`\n3. (Optional) Add Homebrew tap for convenience\n\n**Blocker resolved:** Python env bundling not needed - pip handles deps.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-01T19:29:49.161865-08:00","updated_at":"2025-12-02T21:40:44.684716-08:00","closed_at":"2025-12-02T21:40:44.684716-08:00","close_reason":"Published v0.0.1 to PyPI"}
{"id":"hgrep-5jf","title":"Stats flag (--stats) for timing breakdown","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-02T05:51:22.503643-08:00","updated_at":"2025-12-02T06:32:07.359777-08:00","closed_at":"2025-12-02T06:32:07.359777-08:00","close_reason":"Implemented --stats flag with timing breakdown"}
{"id":"hgrep-63n","title":"Bind C regex library","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T15:21:42.989827-08:00","updated_at":"2025-12-01T01:26:15.95507-08:00","closed_at":"2025-12-01T01:26:15.95507-08:00","close_reason":"Closed"}
{"id":"hgrep-8eu","title":"Handle circular symlinks","description":"**Problem:** walker.mojo follows all directories. Circular symlinks cause infinite loop/stack overflow.\n\n**Solution:** Track visited directories by their real path (resolved symlinks).\n\n```mojo\nvar visited = Set[String]()\n# In walk loop:\nvar real_path = String(full_path.resolve())\nif real_path in visited:\n    continue\nvisited.add(real_path)\n```\n\n**Location:** src/scanner/walker.mojo:hyper_scan()","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-01T18:35:40.066869-08:00","updated_at":"2025-12-01T18:37:34.266077-08:00","closed_at":"2025-12-01T18:37:34.266077-08:00","close_reason":"Fixed: added visited Set to track real paths"}
{"id":"hgrep-8mo","title":"Avoid double file reads","description":"**Problem:** Files are read twice:\n1. walker.mojo reads file for regex matching\n2. context.py reads same file for tree-sitter parsing\n\n**Solution:** Pass file content from scanner to extractor, or cache reads.\n\n**Locations:**\n- src/scanner/walker.mojo\n- src/inference/bridge.py\n- src/inference/context.py\n\n**Approach:** Return (path, content) tuples from scanner instead of just paths.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-01T19:29:10.684483-08:00","updated_at":"2025-12-01T19:43:15.2749-08:00","closed_at":"2025-12-01T19:43:15.2749-08:00","close_reason":"Implemented ScanMatch struct to carry content from scanner to extractor. Files are now read once in walker.mojo and content passed through to bridge.py/context.py."}
{"id":"hgrep-8rn","title":"Perf: Candidate limit (--max-candidates)","description":"Add --max-candidates flag to cap candidates before reranking.\n\nDefault: 100 candidates (configurable)\nImpact: Reduces inference time proportionally\n\nImplementation:\n1. Add CLI flag --max-candidates N (default 100)\n2. Sort candidates by regex match density before capping\n3. Apply limit before sending to reranker","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T05:33:03.511898-08:00","updated_at":"2025-12-02T05:36:24.896106-08:00","closed_at":"2025-12-02T05:36:24.896106-08:00","close_reason":"Implemented --max-candidates flag (default 100)"}
{"id":"hgrep-97l","title":"Min score filter (--min-score threshold)","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-02T05:51:28.768527-08:00","updated_at":"2025-12-02T06:32:12.472955-08:00","closed_at":"2025-12-02T06:32:12.472955-08:00","close_reason":"Implemented --min-score filter"}
{"id":"hgrep-9go","title":"v2: Add -e (exact) and -r (regex) flags","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-04T04:44:59.033537-08:00","updated_at":"2025-12-04T04:44:59.033537-08:00","dependencies":[{"issue_id":"hgrep-9go","depends_on_id":"hgrep-xwd","type":"blocks","created_at":"2025-12-04T04:45:35.269194-08:00","created_by":"nick"}]}
{"id":"hgrep-afl","title":"Add file size limit in scanner (skip \u003e1MB)","description":"**Problem:** walker.mojo:42-51 reads entire file with no size limit. A 10GB log file will OOM.\n\n**Solution:** Check file size before reading, skip files \u003e1MB.\n\n**Location:** src/scanner/walker.mojo:scan_file()\n\n**Pattern (from stdlib):**\n```mojo\n# Check size before read\nvar stat = file.stat()\nif stat.st_size \u003e 1_000_000:\n    return False\n```","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-01T18:22:36.538508-08:00","updated_at":"2025-12-01T18:26:29.752647-08:00","closed_at":"2025-12-01T18:26:29.752647-08:00","close_reason":"Fixed: added MAX_FILE_SIZE check (1MB limit)"}
{"id":"hgrep-bu6","title":"Proper exit codes (0=match, 1=none, 2=error)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T05:51:08.707248-08:00","updated_at":"2025-12-02T06:10:20.568284-08:00","closed_at":"2025-12-02T06:10:20.568284-08:00","close_reason":"Implemented grep-compatible exit codes"}
{"id":"hgrep-dgs","title":"Parallel context extraction","description":"**Problem:** Context extraction in bridge.py is sequential.\n\n**Solution:** Use ThreadPoolExecutor for parallel tree-sitter parsing.\n\n```python\nfrom concurrent.futures import ThreadPoolExecutor\n\nwith ThreadPoolExecutor(max_workers=4) as executor:\n    results = list(executor.map(\n        lambda p: self.extractor.extract(p, query),\n        file_paths\n    ))\n```\n\n**Location:** src/inference/bridge.py:search()","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-01T19:29:23.579625-08:00","updated_at":"2025-12-01T19:44:27.886851-08:00","closed_at":"2025-12-01T19:44:27.886851-08:00","close_reason":"Implemented ThreadPoolExecutor for parallel tree-sitter parsing in bridge.py extraction phase."}
{"id":"hgrep-djw","title":"Scaffold Mojo project structure","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T15:21:32.759144-08:00","updated_at":"2025-11-29T17:24:23.613864-08:00","closed_at":"2025-11-29T17:24:23.613878-08:00"}
{"id":"hgrep-dqh","title":"Fix extractor name extraction for Go methods and Rust traits","description":"Go methods (func (s *Server) healthHandler...) and Rust traits return name='anonymous' instead of the actual function/trait name. Content extraction works correctly. Low priority since it doesn't break search.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-02T23:21:15.641533-08:00","updated_at":"2025-12-02T23:26:14.902653-08:00","closed_at":"2025-12-02T23:26:14.902653-08:00","close_reason":"Fixed: added field_identifier, type_identifier to name extraction + two-level search for nested names"}
{"id":"hgrep-dsr","title":"v2: Clean output format with content preview","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-04T04:45:12.233386-08:00","updated_at":"2025-12-04T04:45:12.233386-08:00","dependencies":[{"issue_id":"hgrep-dsr","depends_on_id":"hgrep-xwd","type":"blocks","created_at":"2025-12-04T04:45:45.487189-08:00","created_by":"nick"}]}
{"id":"hgrep-hqm","title":"Implement parallel directory walker","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T15:21:37.876341-08:00","updated_at":"2025-12-01T01:38:03.615718-08:00","closed_at":"2025-12-01T01:38:03.615718-08:00","close_reason":"Closed"}
{"id":"hgrep-hvo","title":"Initialize mask array to False","description":"**Problem:** walker.mojo:98 allocates mask without initialization.\n\n```mojo\nvar mask = alloc[Bool](num_files)  # Not zeroed - undefined behavior\n```\n\n**Solution:** Initialize to False explicitly.\n\n```mojo\nvar mask = alloc[Bool](num_files)\nfor i in range(num_files):\n    mask[i] = False\n```\n\n**Location:** src/scanner/walker.mojo:98","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-01T18:22:48.452649-08:00","updated_at":"2025-12-01T18:25:37.489641-08:00","closed_at":"2025-12-01T18:25:37.489641-08:00","close_reason":"Fixed: added explicit initialization loop"}
{"id":"hgrep-iqf","title":"Validate path exists before scanning","description":"**Problem:** cli.mojo:32 creates Path without validation. Invalid paths produce cryptic errors.\n\n**Solution:** Check path exists and is directory before scanning.\n\n```mojo\nvar root = Path(path_str)\nif not root.exists():\n    print(\"Error: Path does not exist: \" + path_str, file=stderr)\n    return\nif not root.is_dir():\n    print(\"Error: Path is not a directory: \" + path_str, file=stderr)\n    return\n```\n\n**Location:** cli.mojo:32","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-01T18:22:59.73673-08:00","updated_at":"2025-12-01T18:27:17.140246-08:00","closed_at":"2025-12-01T18:27:17.140246-08:00","close_reason":"Fixed: added path exists/is_dir validation"}
{"id":"hgrep-j09","title":"Detect Python version dynamically","description":"**Problem:** reranker.mojo:22-31 has hardcoded Python versions (3.11, 3.12, 3.13). Will break when Python 3.14 ships.\n\n```mojo\npy_versions.append(\"3.13\")\npy_versions.append(\"3.12\")\npy_versions.append(\"3.11\")\n```\n\n**Solution:** Detect Python version from sys.version_info.\n\n```mojo\nvar sys = Python.import_module(\"sys\")\nvar major = Int(sys.version_info.major)\nvar minor = Int(sys.version_info.minor)\nvar site = current_dir + \"/.pixi/envs/default/lib/python\" + String(major) + \".\" + String(minor) + \"/site-packages\"\n```\n\n**Location:** src/inference/reranker.mojo:22-31","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-01T18:23:24.697948-08:00","updated_at":"2025-12-01T18:28:13.497142-08:00","closed_at":"2025-12-01T18:28:13.497142-08:00","close_reason":"Fixed: now uses sys.version_info for dynamic detection"}
{"id":"hgrep-j3d","title":"Expand test coverage","description":"**Current:** 3 smoke tests (regex, walker, bridge)\n\n**Missing:**\n- CLI arg parsing tests\n- All tree-sitter languages (JS, TS, Rust, Go)\n- Edge cases: large files, symlinks, binary files\n- JSON output format validation\n- Error handling paths\n\n**Locations:** tests/","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-01T19:29:36.641436-08:00","updated_at":"2025-12-02T06:43:57.279152-08:00","closed_at":"2025-12-02T06:43:57.279152-08:00","close_reason":"Added CLI tests for exit codes, JSON output, filtering"}
{"id":"hgrep-m2o","title":"Add --top-k flag","description":"**Problem:** Results limited to hardcoded 10. Users may want more or fewer.\n\n**Solution:** Add --top-k N flag to control result count.\n\n```mojo\n# Arg parsing\nif arg.startswith(\"--top-k=\"):\n    top_k = Int(arg[8:])\nelif arg == \"--top-k\":\n    # Next arg is the value\n    ...\n```\n\n**Locations:**\n- cli.mojo: Parse --top-k flag\n- bridge.py: Pass top_k to search()","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T18:36:05.100359-08:00","updated_at":"2025-12-01T18:39:08.017808-08:00","closed_at":"2025-12-01T18:39:08.017808-08:00","close_reason":"Fixed: added --top-k N and --top-k=N formats"}
{"id":"hgrep-mb9","title":"v2: Auto-index on first query","description":"","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-04T04:44:46.663934-08:00","updated_at":"2025-12-04T04:44:46.663934-08:00","dependencies":[{"issue_id":"hgrep-mb9","depends_on_id":"hgrep-xwd","type":"blocks","created_at":"2025-12-04T04:45:25.047738-08:00","created_by":"nick"}]}
{"id":"hgrep-qgz","title":"Add Mojo tree-sitter support","description":"**Context:** VS Code has Mojo extension with syntax highlighting. Need to check if tree-sitter grammar is available as Python binding.\n\n**Research needed:**\n- Check if tree-sitter-mojo exists on PyPI\n- Check Modular's VS Code extension source\n- May need to build Python bindings if only npm package exists\n\n**Location:** src/inference/context.py","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-01T18:53:36.044315-08:00","updated_at":"2025-12-02T06:50:56.841581-08:00","closed_at":"2025-12-02T06:50:56.841581-08:00","close_reason":"Added tree-sitter-mojo from git, supports .mojo and .ðŸ”¥ files"}
{"id":"hgrep-qof","title":"Gitignore support (.gitignore parsing)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T05:51:02.365281-08:00","updated_at":"2025-12-02T06:12:56.8322-08:00","closed_at":"2025-12-02T06:12:56.8322-08:00","close_reason":"Implemented gitignore filtering with pathspec library"}
{"id":"hgrep-rj4","title":"Context lines (-C/-A/-B) show surrounding code","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T05:51:15.363932-08:00","updated_at":"2025-12-02T06:14:02.760293-08:00","closed_at":"2025-12-02T06:14:02.760293-08:00","close_reason":"Implemented -C/--context flag to show code content"}
{"id":"hgrep-rqp","title":"Add hypothesis fuzzing for edge cases","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T21:40:07.683187-08:00","updated_at":"2025-12-02T23:13:48.558533-08:00","closed_at":"2025-12-02T23:13:48.558533-08:00","close_reason":"Hypothesis fuzzing is overkill for this project size"}
{"id":"hgrep-t7z","title":"Convert tests to pytest","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T21:39:55.030726-08:00","updated_at":"2025-12-02T23:21:04.775927-08:00","closed_at":"2025-12-02T23:21:04.775927-08:00","close_reason":"Not needed - current test runner works well"}
{"id":"hgrep-taw","title":"Add golden dataset for regression testing","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T21:39:42.410158-08:00","updated_at":"2025-12-02T23:20:52.758314-08:00","closed_at":"2025-12-02T23:20:52.758314-08:00","close_reason":"Added tests/golden/ with Python, TypeScript, Go, Rust samples and test_golden.py with 21 tests"}
{"id":"hgrep-upv","title":"Add Python fallback scanner tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T21:39:49.109909-08:00","updated_at":"2025-12-02T23:13:42.545628-08:00","closed_at":"2025-12-02T23:13:42.545628-08:00","close_reason":"Fallback scanner exercised through CLI tests, not worth dedicated unit tests"}
{"id":"hgrep-x0q","title":"Feature: -t/--type file filter","description":"Add file type filtering like ripgrep.\n\nExamples:\n- hygrep \"query\" -t py,js\n- hygrep \"query\" --type rust\n\nImplementation:\n1. Add -t/--type flag (comma-separated extensions)\n2. Filter in scanner before regex matching\n3. Support common aliases (py=.py, js=.js,.jsx, ts=.ts,.tsx)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T05:33:16.343922-08:00","updated_at":"2025-12-02T05:36:39.010945-08:00","closed_at":"2025-12-02T05:36:39.010945-08:00","close_reason":"Implemented -t/--type filter with type aliases"}
{"id":"hgrep-xwd","title":"v2: Refactor CLI to semantic-first","description":"","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-04T04:44:40.11548-08:00","updated_at":"2025-12-04T04:48:42.349215-08:00"}
{"id":"hgrep-zgv","title":"Perf: Thread optimization (4 threads)","description":"Add thread optimization to ONNX inference for 2.5x speedup.\n\nBenchmarks:\n- 1 thread: 5537ms\n- 4 threads: 2260ms (2.5x faster)\n\nImplementation:\n1. Add SessionOptions with intra_op_num_threads=4\n2. Set graph_optimization_level=ORT_ENABLE_ALL\n3. Test on different hardware\n\nReference: reranker.py Reranker.__init__","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T05:32:40.117381-08:00","updated_at":"2025-12-02T05:36:19.039247-08:00","closed_at":"2025-12-02T05:36:19.039247-08:00","close_reason":"Implemented 4-thread ONNX optimization (2.5x speedup)"}
{"id":"hgrep-zlf","title":"v2: Drop cross-encoder reranking","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-04T04:45:05.6181-08:00","updated_at":"2025-12-04T04:45:05.6181-08:00","dependencies":[{"issue_id":"hgrep-zlf","depends_on_id":"hgrep-xwd","type":"blocks","created_at":"2025-12-04T04:45:40.376978-08:00","created_by":"nick"}]}
{"id":"hgrep-zxs","title":"Color output (file paths, types, scores)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T05:50:55.533302-08:00","updated_at":"2025-12-02T06:10:25.672388-08:00","closed_at":"2025-12-02T06:10:25.672388-08:00","close_reason":"Implemented ANSI color output with --color flag"}
